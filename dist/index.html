<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UN ESCAP Climate & Energy Risk Visualization</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        // ULTIMATE GITHUB SPARK ANNIHILATION - PREEMPTIVE STRIKE
        console.log('ðŸš« ULTIMATE GitHub Spark elimination starting...');
        
        // STEP 1: Block all network requests first
        const BLOCKED_PATTERNS = ['/_spark/', '/spark', 'github.com', 'githubnext'];
        
        // Override fetch IMMEDIATELY
        const originalFetch = window.fetch;
        window.fetch = function(input, init) {
            const url = typeof input === 'string' ? input : 
                       input instanceof URL ? input.href : 
                       input.url || '';
            
            for (const pattern of BLOCKED_PATTERNS) {
                if (url.includes(pattern)) {
                    console.log('ðŸš« ULTIMATE BLOCKED FETCH:', url);
                    return Promise.reject(new Error('GITHUB SPARK COMPLETELY DISABLED'));
                }
            }
            return originalFetch.call(this, input, init);
        };
        
        // Override XMLHttpRequest IMMEDIATELY
        const OriginalXHR = window.XMLHttpRequest;
        window.XMLHttpRequest = function() {
            const xhr = new OriginalXHR();
            const originalOpen = xhr.open;
            xhr.open = function(method, url) {
                const urlStr = typeof url === 'string' ? url : url.toString();
                for (const pattern of BLOCKED_PATTERNS) {
                    if (urlStr.includes(pattern)) {
                        console.log('ðŸš« ULTIMATE BLOCKED XHR:', urlStr);
                        throw new Error('GITHUB SPARK COMPLETELY DISABLED');
                    }
                }
                return originalOpen.apply(this, arguments);
            };
            return xhr;
        };
        
        // STEP 2: Block all script loading
        const originalCreateElement = document.createElement;
        document.createElement = function(tagName) {
            const element = originalCreateElement.call(this, tagName);
            if (tagName.toLowerCase() === 'script') {
                const originalSetSrc = Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype, 'src').set;
                Object.defineProperty(element, 'src', {
                    set: function(value) {
                        for (const pattern of BLOCKED_PATTERNS) {
                            if (value && value.includes(pattern)) {
                                console.log('ðŸš« ULTIMATE BLOCKED SCRIPT:', value);
                                return; // Don't set the src
                            }
                        }
                        originalSetSrc.call(this, value);
                    },
                    get: function() {
                        return this.getAttribute('src');
                    }
                });
            }
            return element;
        };
        
        // STEP 3: Nuclear global blocking
        const SPARK_GLOBALS = ['spark', '__GITHUB_SPARK__', '_spark', 'github', '__spark__'];
        SPARK_GLOBALS.forEach(global => {
            Object.defineProperty(window, global, {
                value: undefined,
                writable: false,
                configurable: false,
                enumerable: false
            });
        });
        
        // STEP 4: Clear all storage
        try {
            ['localStorage', 'sessionStorage'].forEach(storage => {
                const storageObj = window[storage];
                Object.keys(storageObj).forEach(key => {
                    if (key.includes('spark') || key.includes('github')) {
                        storageObj.removeItem(key);
                    }
                });
            });
        } catch(e) {}
        
        // STEP 5: Block WebSocket connections
        const OriginalWebSocket = window.WebSocket;
        window.WebSocket = function(url, protocols) {
            for (const pattern of BLOCKED_PATTERNS) {
                if (url.includes(pattern)) {
                    console.log('ðŸš« ULTIMATE BLOCKED WEBSOCKET:', url);
                    throw new Error('GITHUB SPARK WEBSOCKETS DISABLED');
                }
            }
            return new OriginalWebSocket(url, protocols);
        };
        
        console.log('âœ… ULTIMATE GitHub Spark annihilation complete');
    </script>
  <script type="module" crossorigin src="/assets/index-C_ldSz15.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-BbS-toGA.css">
</head>

<body>
    <div id="root"></div>
</body>

</html>
